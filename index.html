<html >
    <head>
        <meta charset="UTF-8">
        <title>Cutie Hack Giveaways</title>
    </head>

  <body>
        <link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
        <link href='http://fonts.googleapis.com/css?family=Exo+2:900' rel='stylesheet' type='text/css'>
        <link href="css/style.css" rel="stylesheet">
        <center>
        <img src="img/logo.png" width="20%"></center>
        <div id="wrapper">
            <div id="wheel">
                <div id="inner-wheel">
                    <div class="sec"><span class="fa fa-star-o"></span></div>
                    <div class="sec"><span class="fa fa-smile-o"></span></div>
                    <div class="sec"><span class="fa fa-star-o"></span></div>
                    <div class="sec"><span class="fa fa-smile-o"></span></div>
                    <div class="sec"><span class="fa fa-star-o"></span></div>
                    <div class="sec"><span class="fa fa-smile-o"></span></div>
                </div>
                <div id="spin">
                    <div id="inner-spin"></div>
                </div>
                <div id="shine"></div>
            </div>
            <br><center>
            <p><span class="fa fa-smile-o"></span> = T-Shirt</p><br><span class="fa fa-star-o"></span> = Sticker</p><hr><p>Like us on Facebook! <h1>@CutieHack @CitrusHack</h1></p></center>
        </div>
        <script src="https://assets.codepen.io/assets/editor/full/full_page_renderer-3198593791a2c49a9a0d2845518d80a6.js" type="text/javascript"></script>
        <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
            <script>
                //set default degree (360*5)
                var degree = 1800;
                //number of clicks = 0
                var clicks = 0;

                $(document).ready(function(){
                	$('#spin').click(function(){
                		clicks ++;
                		var newDegree = degree*clicks;
                		var extraDegree = Math.floor(Math.random() * (360 - 1 + 1)) + 1;
                		totalDegree = newDegree+extraDegree;
                		$('#wheel .sec').each(function(){
                			var t = $(this);
                			var noY = 0;

                			var c = 0;
                			var n = 700;
                			var interval = setInterval(function () {
                				c++;
                				if (c === n) {
                					clearInterval(interval);
                				}

                				var aoY = t.offset().top;
                				$("#txt").html(aoY);
                				console.log(aoY);

                				/*23.7 is the minumum offset number that
                				each section can get, in a 30 angle degree.
                				So, if the offset reaches 23.7, then we know
                				that it has a 30 degree angle and therefore,
                				exactly aligned with the spin btn*/
                				if(aoY < 23.89){
                					console.log('<<<<<<<<');
                					$('#spin').addClass('spin');
                					setTimeout(function () {
                						$('#spin').removeClass('spin');
                					}, 100);
                				}
                			}, 10);

                			$('#inner-wheel').css({
                				'transform' : 'rotate(' + totalDegree + 'deg)'
                			});

                			noY = t.offset().top;
                		});
                	});
                });
        </script>
    </body>
</html>
